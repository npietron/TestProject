var userModule=angular.module("user",["app.config"]);userModule.factory("UserService",function(n,t){function u(n){return r.post(n)}function f(i){var r=t.one(n.getUserById+"(UserId="+i+")");return r.get()}function e(i){var r=t.one(n.getUserById+"(UserName="+i+")");return r.get()}function o(i){var r=t.one(n.doesUserExists+"(UserName='"+i+"')");return r.get()}function s(){return i}function h(n){i=n}var r=t.all(n.addUser),i;return{addUser:u,getUserById:f,getUserIdByUserName:e,doesUserExists:o,getCurrentUser:s,setCurrentUser:h}});userModule.factory("UserObjectComposer",function(){function n(n){return{Request:{UserId:n.UserId,UserName:n.UserName}}}return{generateUserObject:n}});userModule.controller("UserController",function(n,t,i,r,u){n.performLogin=function(n){var e,f,o;r.doesUserExists(n).then(function(n){e=n.Value});e?r.setCurrentUser(r.getUserIdByUserName(n)):(f={UserId:0,UserName:n},o=u.generateUserObject(f),f=r.addUser(o),r.setCurrentUser(f.UserId));t.path(i.home)}});